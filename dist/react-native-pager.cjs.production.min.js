'use strict';
function e(e) {
  return e && 'object' == typeof e && 'default' in e ? e.default : e;
}
var t,
  n = require('react'),
  r = e(n),
  i = require('react-native'),
  a = e(require('react-native-reanimated')),
  o = require('react-native-gesture-handler');
function u() {
  return (u =
    Object.assign ||
    function(e) {
      for (var t = 1; t < arguments.length; t++) {
        var n = arguments[t];
        for (var r in n)
          Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
      }
      return e;
    }).apply(this, arguments);
}
function l(e, t) {
  if (null == e) return {};
  var n,
    r,
    i = {},
    a = Object.keys(e);
  for (r = 0; r < a.length; r++) t.indexOf((n = a[r])) >= 0 || (i[n] = e[n]);
  return i;
}
((t = exports.Extrapolate || (exports.Extrapolate = {})).EXTEND = 'extend'),
  (t.CLAMP = 'clamp'),
  (t.IDENTITY = 'identity');
var c = a.event,
  s = a.block,
  d = a.Value,
  v = a.divide,
  f = a.cond,
  p = a.eq,
  h = a.add,
  m = a.stopClock,
  x = a.Clock,
  g = a.set,
  y = a.clockRunning,
  w = a.multiply,
  E = a.sub,
  I = a.call,
  C = a.max,
  b = a.min,
  V = a.greaterThan,
  P = a.abs,
  S = a.ceil,
  O = a.interpolate,
  j = a.concat,
  k = a.neq,
  D = a.and,
  T = a.startClock,
  q = a.spring,
  A = a.debug;
function z(e) {
  var t,
    n,
    o = e.children,
    c = e.index,
    s = e.minimum,
    d = e.maximum,
    v = e.dimension,
    f = e.targetTransform,
    p = e.targetDimension,
    h = e.pageInterpolation,
    m = e.animatedIndex,
    x = K(w(c, v)),
    g = K(b(C(x, s), d)),
    y = K((((n = {})[p] = v), (n.transform = [((t = {}), (t[f] = g), t)]), n)),
    I = K(E(c, m)),
    V = K(J(I, h)),
    P = V.zIndex,
    S = l(V, ['zIndex']);
  return (
    P || (P = 0),
    r.createElement(
      a.View,
      { style: u({}, i.StyleSheet.absoluteFillObject, {}, y, { zIndex: P }) },
      r.createElement(
        a.View,
        { style: [i.StyleSheet.absoluteFillObject, S] },
        o
      )
    )
  );
}
function F(e, t) {
  void 0 === t && (t = 0);
  var r = K(new d(void 0 !== e ? e : t));
  return (
    n.useEffect(
      function() {
        void 0 !== e && r.setValue(e);
      },
      [e]
    ),
    r
  );
}
var L = n.createContext(void 0);
function M() {
  var e = n.useContext(L);
  if (void 0 === e)
    throw new Error('usePager() must be used within a <PagerProvider />');
  return e;
}
var N = r.createContext(!1);
function X(e) {
  return r.createElement(N.Provider, { value: e.focused }, e.children);
}
function R() {
  return n.useContext(N);
}
var Y = r.createContext(void 0);
function G(e) {
  return r.createElement(Y.Provider, { value: e.index }, e.children);
}
function H() {
  var e = n.useContext(Y);
  if (void 0 === e)
    throw new Error('useIndex() must be used within an <IndexProvider />');
  return e;
}
function W() {
  return M()[2];
}
function B(e) {
  var t = W();
  return K(E(e, t));
}
function J(e, t) {
  return t
    ? Object.keys(t).reduce(function(n, r) {
        var i = t[r];
        if (Array.isArray(i)) {
          var a = i.map(function(t) {
            return J(e, t);
          });
          return (n[r] = a), n;
        }
        if ('object' == typeof i) {
          var o,
            u = l(i, ['unit']);
          return (o = i.unit ? j(O(e, u), i.unit) : O(e, i)), (n[r] = o), n;
        }
        if ('function' == typeof i) {
          var c = i(e);
          return (n[r] = c), n;
        }
        return n;
      }, {})
    : {};
}
function K(e) {
  return r.useRef(e).current;
}
var Q = {
  stiffness: 1e3,
  damping: 500,
  mass: 3,
  overshootClamping: !1,
  restDisplacementThreshold: 0.01,
  restSpeedThreshold: 0.01,
};
function U(e, t, n, r) {
  var i = {
      finished: new d(0),
      velocity: new d(0),
      position: t,
      time: new d(0),
    },
    a = u({}, Q, {}, r, { toValue: new d(0) });
  return s([
    f(
      y(e),
      [f(k(a.toValue, n), [g(i.finished, 0), g(a.toValue, n)])],
      [g(i.finished, 0), g(i.time, 0), g(i.velocity, 0), g(a.toValue, n), T(e)]
    ),
    q(e, i, a),
    f(i.finished, [m(e), g(i.position, t)]),
    i.position,
  ]);
}
var Z = a.interpolate,
  $ = a.concat;
function _(e, t) {
  return t
    ? Object.keys(t).reduce(function(n, r) {
        var i = t[r];
        if (Array.isArray(i)) {
          var a = i.map(function(t) {
            return _(e, t);
          });
          return (n[r] = a), n;
        }
        if ('object' == typeof i) {
          var o,
            u = l(i, ['unit']);
          return (o = i.unit ? $(Z(e, u), i.unit) : Z(e, i)), (n[r] = o), n;
        }
        if ('function' == typeof i) {
          var c = i(e);
          return (n[r] = c), n;
        }
        return n;
      }, {})
    : {};
}
function ee(e) {
  return n.useRef(e).current;
}
var te = a.Value,
  ne = a.divide,
  re = a.multiply,
  ie = a.add,
  ae = { height: 50, width: '100%', flexDirection: 'row' };
function oe(e) {
  var t = e.children,
    n = e.pageInterpolation,
    i = e.style,
    o = ee(_(B(e.index), n));
  return r.createElement(a.View, { style: [i || { flex: 1 }, o] }, t);
}
var ue = { height: 2, backgroundColor: 'aquamarine' };
(exports.FocusProvider = X),
  (exports.IndexProvider = G),
  (exports.Pager = function(e) {
    var t,
      i,
      u = e.activeIndex,
      l = e.onChange,
      O = e.initialIndex,
      j = void 0 === O ? 0 : O,
      k = e.children,
      T = e.springConfig,
      q = e.panProps,
      M = void 0 === q ? {} : q,
      N = e.pageSize,
      R = void 0 === N ? 1 : N,
      Y = e.threshold,
      H = void 0 === Y ? 0.1 : Y,
      W = e.minIndex,
      B = void 0 === W ? 0 : W,
      J = e.maxIndex,
      Q = e.adjacentChildOffset,
      Z = void 0 === Q ? 10 : Q,
      $ = e.style,
      _ = e.containerStyle,
      ee = e.type,
      te = void 0 === ee ? 'horizontal' : ee,
      ne = e.pageInterpolation,
      re = e.clamp,
      ie = void 0 === re ? {} : re,
      ae = e.clampDrag,
      oe = void 0 === ae ? {} : ae,
      ue = e.animatedValue,
      le = n.useContext(L),
      ce = void 0 !== u,
      se = n.useState(j),
      de = se[1],
      ve = ce ? u : le ? le[0] : se[0],
      fe = n.Children.count(k),
      pe = void 0 === J ? Math.ceil((fe - 1) / R) : J,
      he = ce ? l : le ? le[1] : de,
      me = K(new d(0)),
      xe = K(new d(0)),
      ge = K(new d(0)),
      ye = K(
        c([{ nativeEvent: { translationX: me, translationY: xe } }], {
          useNativeDriver: !0,
        })
      ),
      we = K(c([{ nativeEvent: { state: ge } }], { useNativeDriver: !0 })),
      Ee = -1;
    $ && $.width && 'number' == typeof $.width && (Ee = $.width);
    var Ie = -1;
    $ && $.height && 'number' == typeof $.height && (Ie = $.height);
    var Ce = n.useState(Ee),
      be = Ce[0],
      Ve = Ce[1],
      Pe = n.useState(Ie),
      Se = Pe[0],
      Oe = Pe[1],
      je = K(new d(0)),
      ke = 'vertical' === te ? 'height' : 'width',
      De = 'vertical' === te ? 'translateY' : 'translateX',
      Te = 'vertical' === te ? xe : me,
      qe = 'vertical' === te ? Se : be,
      Ae = w(je, fe),
      ze = 'vertical' === te ? 1 : 2,
      Fe = F(H),
      Le = F(oe.prev, 1e9),
      Me = F(oe.next, 1e9),
      Ne = F(pe),
      Xe = F(B),
      Re = K(new d(ve)),
      Ye = ue || (le ? le[2] : Re),
      Ge = K(new d(0)),
      He = K(new d(0)),
      We = K(new d(ve)),
      Be = K(new d(ve)),
      Je = K(E(Be, Ye)),
      Ke = K(P(Je)),
      Qe = K(V(Ke, Fe)),
      Ue = K(new d(0)),
      Ze = K(b(C(v(Te, je), w(Me, -1)), Le)),
      $e = K(new x());
    n.useEffect(
      function() {
        ve >= B && ve <= pe && We.setValue(ve);
      },
      [ve, B, pe]
    );
    var _e = K(
        s([
          f(
            p(ge, o.State.ACTIVE),
            [
              f(y($e), m($e)),
              f(He, 0, [g(Ge, Ye), g(He, 1)]),
              g(Ye, E(Ge, Ze)),
            ],
            [
              f(He, [
                g(He, 0),
                f(Qe, [
                  g(Ue, S(Ke)),
                  g(
                    We,
                    f(
                      V(Je, 0),
                      b(C(E(Be, Ue), Xe), Ne),
                      b(C(h(Be, Ue), Xe), Ne)
                    )
                  ),
                  I([We], function(e) {
                    return he(e[0]);
                  }),
                ]),
              ]),
              g(Be, We),
              g(Ye, U($e, Ye, We, T)),
            ]
          ),
          A('position', Ye),
          Ye,
        ])
      ),
      et = F(ie.prev, fe),
      tt = F(ie.next, fe),
      nt = K(w(E(_e, et), je)),
      rt = K(w(h(_e, tt), je)),
      it = F(R),
      at = K(w(_e, je, it, -1)),
      ot =
        void 0 !== Z
          ? k.slice(Math.max(ve - Z, 0), Math.min(ve + Z + 1, fe))
          : k;
    return r.createElement(
      a.View,
      {
        style: _ ||
          ($ && $.height ? { height: $.height } : void 0) || { flex: 1 },
      },
      r.createElement(a.Code, {
        key: qe,
        exec: f(
          D(p(je, be), p(je, Se)),
          [],
          [f(p(ze, 1), g(je, Se), g(je, be))]
        ),
      }),
      r.createElement(
        o.PanGestureHandler,
        Object.assign({}, M, { onGestureEvent: ye, onHandlerStateChange: we }),
        r.createElement(
          a.View,
          { style: { flex: 1 } },
          r.createElement(
            a.View,
            { style: $ || { flex: 1 } },
            r.createElement(
              a.View,
              {
                style: { flex: 1 },
                onLayout: function(e) {
                  var t = e.nativeEvent.layout;
                  t.width !== be && Ve(t.width),
                    t.height !== Se && Oe(t.height);
                },
              },
              r.createElement(
                a.View,
                {
                  style:
                    ((i = { flex: 1 }),
                    (i[ke] = Ae),
                    (i.transform = [((t = {}), (t[De] = at), t)]),
                    i),
                },
                -1 === be
                  ? null
                  : ot.map(function(e, t) {
                      var n = t;
                      return (
                        void 0 !== Z && (n = ve <= Z ? t : ve - Z + t),
                        r.createElement(
                          G,
                          { index: n, key: n },
                          r.createElement(
                            X,
                            { focused: n === ve },
                            r.createElement(
                              z,
                              {
                                index: n,
                                animatedIndex: _e,
                                minimum: nt,
                                maximum: rt,
                                dimension: je,
                                targetTransform: De,
                                targetDimension: ke,
                                pageInterpolation: ne,
                              },
                              e
                            )
                          )
                        )
                      );
                    })
              )
            )
          )
        )
      )
    );
  }),
  (exports.PagerContext = L),
  (exports.PagerProvider = function(e) {
    var t = e.children,
      i = e.initialIndex,
      a = e.activeIndex,
      o = e.onChange,
      u =
        void 0 === o
          ? function() {
              return console.warn(
                '<PagerProvider /> should have an onChange() prop if it is controlled'
              );
            }
          : o,
      l = n.useState(void 0 === i ? 0 : i),
      c = void 0 !== a,
      s = c ? a : l[0],
      v = c ? u : l[1],
      f = K(new d(s));
    return r.createElement(
      L.Provider,
      { value: [s, v, f] },
      'function' == typeof t
        ? t({ activeIndex: s, onChange: v, animatedIndex: f })
        : t
    );
  }),
  (exports.Pagination = function(e) {
    var t = e.children,
      i = e.pageInterpolation;
    return r.createElement(
      a.View,
      { style: u({}, ae, {}, e.style) },
      n.Children.map(t, function(e, t) {
        return r.createElement(
          oe,
          { index: t, pageInterpolation: i, style: e.props.style },
          e
        );
      })
    );
  }),
  (exports.Progress = function(e) {
    var t = e.numberOfScreens,
      n = e.style,
      i = W(),
      o = ee(new te(0)),
      l = ee(ne(o, t, ne(1, ie(i, 1))));
    return r.createElement(
      a.View,
      {
        onLayout: function(e) {
          o.setValue(e.nativeEvent.layout.width);
        },
      },
      r.createElement(a.View, {
        style: u(
          { width: l, height: 2, backgroundColor: 'rebeccapurple' },
          ue,
          {},
          n
        ),
      })
    );
  }),
  (exports.Slider = function(e) {
    var t = e.numberOfScreens,
      n = e.style,
      i = W(),
      o = ee(new te(0)),
      l = ne(o, t),
      c = ee(re(i, l));
    return r.createElement(
      a.View,
      {
        onLayout: function(e) {
          o.setValue(e.nativeEvent.layout.width);
        },
      },
      r.createElement(a.View, {
        style: u({ width: l, transform: [{ translateX: c }] }, ue, {}, n),
      })
    );
  }),
  (exports.interpolateWithConfig = _),
  (exports.useAnimatedIndex = W),
  (exports.useFocus = R),
  (exports.useIndex = H),
  (exports.useInterpolation = function(e, t) {
    return K(J(B(void 0 !== t ? t : H()), e));
  }),
  (exports.useOffset = B),
  (exports.useOnFocus = function(e) {
    var t = R();
    n.useEffect(
      function() {
        t && e();
      },
      [t]
    );
  }),
  (exports.usePager = M);
//# sourceMappingURL=react-native-pager.cjs.production.min.js.map
